<div class="container">
  <h2><%= @room.title %></h2>
  <h4><%= @room.language.name %> | <%= @room.problem.title %></h4>
  <p>Room Host: <%= @room.host.full_name %></p>

  <div id="active-users">
    <%= render partial: 'rooms/users', collection: @room.active_users, as: :user %>
    <%= render 'rooms/users', user: current_user %>
  </div>

  <div id="meta" data-user-id="<%= current_user.id %>" data-room-id="<%= @room.id %>"style="display: none;"></div>

  <div id="chatbox">
    <%= render :partial => 'messages/message', :collection => @room.messages, :as => :message %>
  </div>

  <%= form_for [@room, Message.new], :url => new_room_message_path(@room), :remote => true do |f| %>
    <%= f.text_field :content, :id => "textfield-#{current_user.id}", :class => "full-width" %>
    <%= f.submit "Send" %>
  <%- end -%>

  <%= subscribe_to problem_room_path(@room.language, @room.problem, @room) %>
</div>